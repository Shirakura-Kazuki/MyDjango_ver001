{% extends 'helloApp/base.html' %}
{% load static %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'css/p_style.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
{% endblock %}

{% block title %}ãƒ—ãƒ­é‡çƒãƒ€ãƒ¡åŠ©ã£äººæ®¿å ‚åšç‰©é¤¨-æ®¿å ‚é¸æ‰‹ç´¹ä»‹ãƒšãƒ¼ã‚¸{% endblock %}
{% block meta_description %}æ—¥æœ¬ãƒ—ãƒ­é‡çƒï¼ˆNPBï¼‰ã®æ­´ä»£ã€Œã‚¯ã‚½åŠ©ã£äººã€ã€Œãƒ€ãƒ¡åŠ©ã£äººã€ã€Œãƒ€ãƒ¡å¤–å›½äººã€ã€Œãƒã‚ºãƒ¬å¤–å›½äººã€é¸æ‰‹ã‚’é›†ã‚ãŸãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã€‚ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ã‚„ç²å¾—èƒŒæ™¯ã€å¹´æ£’ã‚„äººæŸ„ãªã©ã‚’ã¾ã¨ã‚ãŸæ®¿å ‚åšç‰©é¤¨ã«ãªã£ã¦ã„ã¾ã™ã€‚{% endblock %}

{% block content %}
    <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
    <header class="header">
        <h1>æ—¥æœ¬ãƒ—ãƒ­é‡çƒï¼ˆNPBï¼‰æ­´ä»£ãƒ€ãƒ¡åŠ©ã£äººæ®¿å ‚é¸æ‰‹ç´¹ä»‹ä¸€è¦§</h1>
    </header>
    
    <!-- ğŸ”¹ æ¤œç´¢ãƒ•ã‚©ãƒ¼ãƒ  & ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãƒœã‚¿ãƒ³ -->
    <section class="search-filter-container">
        <input type="text" id="searchInput" class="search-box" placeholder="åå‰ã‚’å…¥åŠ›">
        <button id="filterToggle" class="filter-btn">
            <i class="fa-solid fa-filter"></i> æ¤œç´¢ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼</button>
    </section>

<!-- ğŸ”¹ ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ -->
<div id="filterMenu" class="filter-menu">
    <div class="filter-content">
        <button id="closeFilter" class="close-btn">Ã—</button>
        <h2>æ¤œç´¢ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼</h2>
        <ul>
            <li><a href="?category=">å…¨å“¡è¡¨ç¤º</a></li>
            <li><a href="?category=é¸æ‰‹">é¸æ‰‹</a></li>
            <li><a href="?category=ãã®ä»–">ãã®ä»–</a></li>
            <li class="dropdown">
                <span>æ‰€å±ãƒãƒ¼ãƒ  â–¼</span>
                <ul class="dropdown-content">
                    <a href="?team=èª­å£²ã‚¸ãƒ£ã‚¤ã‚¢ãƒ³ãƒ„">èª­å£²ã‚¸ãƒ£ã‚¤ã‚¢ãƒ³ãƒ„</a>
                    <a href="?team=é˜ªç¥ã‚¿ã‚¤ã‚¬ãƒ¼ã‚¹">é˜ªç¥ã‚¿ã‚¤ã‚¬ãƒ¼ã‚¹</a>
                    <a href="?team=ä¸­æ—¥ãƒ‰ãƒ©ã‚´ãƒ³ã‚º">ä¸­æ—¥ãƒ‰ãƒ©ã‚´ãƒ³ã‚º</a>
                    <a href="?team=æ¨ªæµœDeNAãƒ™ã‚¤ã‚¹ã‚¿ãƒ¼ã‚º">æ¨ªæµœDeNAãƒ™ã‚¤ã‚¹ã‚¿ãƒ¼ã‚º</a>
                    <a href="?team=åºƒå³¶æ±æ´‹ã‚«ãƒ¼ãƒ—">åºƒå³¶æ±æ´‹ã‚«ãƒ¼ãƒ—</a>
                    <a href="?team=æ±äº¬ãƒ¤ã‚¯ãƒ«ãƒˆã‚¹ãƒ¯ãƒ­ãƒ¼ã‚º">æ±äº¬ãƒ¤ã‚¯ãƒ«ãƒˆã‚¹ãƒ¯ãƒ­ãƒ¼ã‚º</a>
                    <a href="?team=ã‚ªãƒªãƒƒã‚¯ã‚¹ãƒ»ãƒãƒ•ã‚¡ãƒ­ãƒ¼ã‚º">ã‚ªãƒªãƒƒã‚¯ã‚¹ãƒ»ãƒãƒ•ã‚¡ãƒ­ãƒ¼ã‚º</a>
                    <a href="?team=ç¦å²¡ã‚½ãƒ•ãƒˆãƒãƒ³ã‚¯ãƒ›ãƒ¼ã‚¯ã‚¹">ç¦å²¡ã‚½ãƒ•ãƒˆãƒãƒ³ã‚¯ãƒ›ãƒ¼ã‚¯ã‚¹</a>
                    <a href="?team=åŒ—æµ·é“æ—¥æœ¬ãƒãƒ ãƒ•ã‚¡ã‚¤ã‚¿ãƒ¼ã‚º">åŒ—æµ·é“æ—¥æœ¬ãƒãƒ ãƒ•ã‚¡ã‚¤ã‚¿ãƒ¼ã‚º</a>
                    <a href="?team=åƒè‘‰ãƒ­ãƒƒãƒ†ãƒãƒªãƒ¼ãƒ³ã‚º">åƒè‘‰ãƒ­ãƒƒãƒ†ãƒãƒªãƒ¼ãƒ³ã‚º</a>
                    <a href="?team=åŸ¼ç‰è¥¿æ­¦ãƒ©ã‚¤ã‚ªãƒ³ã‚º">åŸ¼ç‰è¥¿æ­¦ãƒ©ã‚¤ã‚ªãƒ³ã‚º</a>
                    <a href="?team=æ±åŒ—æ¥½å¤©ã‚´ãƒ¼ãƒ«ãƒ‡ãƒ³ã‚¤ãƒ¼ã‚°ãƒ«ã‚¹">æ±åŒ—æ¥½å¤©ã‚´ãƒ¼ãƒ«ãƒ‡ãƒ³ã‚¤ãƒ¼ã‚°ãƒ«ã‚¹</a>
                    <a href="?team=å¤§é˜ªè¿‘é‰„ãƒãƒ•ã‚¡ãƒ­ãƒ¼ã‚º">å¤§é˜ªè¿‘é‰„ãƒãƒ•ã‚¡ãƒ­ãƒ¼ã‚º</a>
                    <a href="?team=ãã®ä»–">ãã®ä»–</a>
                </ul>
            </li>
        </ul>
    </div>
</div>

    <!-- æ®¿å ‚å…¥ã‚Šãƒªã‚¹ãƒˆï¼ˆãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰ -->
    <section class="table-container">
        <table>
            <thead>
                <tr>
                    <th>ID</th>
                    <th>æ°å</th>
                    <th>æ®¿å ‚å…¥ã‚Šå¹´</th>
                    <th>ã‚«ãƒ†ã‚´ãƒª</th>
                    <th>æ‰€å±ãƒãƒ¼ãƒ </th>
                    <th>ã‚·ãƒ§ãƒ¼ãƒˆãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«</th>
                </tr>
            </thead>
            <tbody>
                {% for player in page_obj %}
                <tr>
                    <td>{{ player.id }}</td>
                    <td class="p_name">
                    {% if player.slug %}
                        <a href="{% url 'player_detail' player.slug %}">{{ player.name }}</a>
                    {% else %}
                        {{ player.name }}  <!-- ã‚¹ãƒ©ãƒƒã‚°ãŒç„¡ã„å ´åˆã¯ãƒªãƒ³ã‚¯ãªã— -->
                    {% endif %}
                    </td>
                    <td>{{ player.year }}</td>
                    <td>{{ player.category }}</td>
                    <td>{{ player.team }}</td>
                    <td>{{ player.profile }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </section>

    <!-- ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ -->
    <div class="pagination">
        {% if page_obj.has_previous %}
            <a href="?page=1">Â« æœ€åˆ</a>
            <a href="?page={{ page_obj.previous_page_number }}">â€¹ å‰</a>
        {% endif %}

        <span>ãƒšãƒ¼ã‚¸ {{ page_obj.number }} / {{ page_obj.paginator.num_pages }}</span>

        {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}">æ¬¡ â€º</a>
            <a href="?page={{ page_obj.paginator.num_pages }}">æœ€å¾Œ Â»</a>
        {% endif %}
    </div>

    <div class="ScrollTopBtn(link.css)">      
        <!--  ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒˆãƒƒãƒ—ãƒœã‚¿ãƒ³ -->
        <button id="scrollTopBtn" class="scroll-top">
            <i class="fa-solid fa-arrow-up"></i>
        </button>

        <style>
        /* ğŸ”¹ ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒˆãƒƒãƒ—ãƒœã‚¿ãƒ³ã®ãƒ‡ã‚¶ã‚¤ãƒ³ */
        .scroll-top {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            background: rgba(0, 0, 0, 0.5); /* ğŸ”¹ å°‘ã—é€ã‹ã™ */
            color: white;
            font-size: 24px;
            border: none;
            border-radius: 20%;
            cursor: pointer;
            display: none; /* åˆæœŸçŠ¶æ…‹ã§ã¯éè¡¨ç¤º */
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease-in-out;

             /* ğŸ”¹ ã‚¢ã‚¤ã‚³ãƒ³ã‚’ä¸­å¤®é…ç½® */
            justify-content: center;
            align-items: center;
        }

        /* ğŸ”¹ ã‚¢ã‚¤ã‚³ãƒ³ã‚µã‚¤ã‚ºã‚’é©åˆ‡ã«èª¿æ•´ */
        .scroll-top i {
            font-size: 20px; /* ğŸ”¹ ã‚¢ã‚¤ã‚³ãƒ³ãŒå¤§ãã™ãã‚‹ã®ã§é©åˆ‡ãªã‚µã‚¤ã‚ºã« */
        }

        /* ğŸ”¹ ãƒ›ãƒãƒ¼æ™‚ã®åŠ¹æœ */
        .scroll-top:hover {
            background: rgba(0, 0, 0, 0.7); /* ğŸ”¹ ãƒ›ãƒãƒ¼æ™‚ã«å°‘ã—æ¿ƒãã™ã‚‹ */
            transform: scale(1.1);
        }

        /* ğŸ”¹ ãƒœã‚¿ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹æ¡ä»¶ */
        .show {
            display: block;
        }
        </style>

        <script>
        document.addEventListener("DOMContentLoaded", function () {
            let scrollTopBtn = document.getElementById("scrollTopBtn");

            // ğŸ”¹ ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ãŸã‚‰ãƒœã‚¿ãƒ³ã‚’è¡¨ç¤º
            window.addEventListener("scroll", function () {
                if (window.scrollY > 300) {
                    scrollTopBtn.classList.add("show"); // 300pxä»¥ä¸Šã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã§è¡¨ç¤º
                } else {
                    scrollTopBtn.classList.remove("show");
                }
            });

            // ğŸ”¹ ã‚¯ãƒªãƒƒã‚¯ã§ãƒšãƒ¼ã‚¸ãƒˆãƒƒãƒ—ã«ã‚¹ãƒ ãƒ¼ã‚ºã«æˆ»ã‚‹
            scrollTopBtn.addEventListener("click", function () {
                window.scrollTo({
                    top: 0,
                    behavior: "smooth" // ã‚¹ãƒ ãƒ¼ã‚ºã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
                });
            });
        });
        </script>
    </div>

    {% endblock %}

    {% block extra_js %}
        <script src="{% static 'js/p_script.js' %}"></script>
    {% endblock %}

